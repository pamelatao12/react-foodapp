{"ast":null,"code":"var _jsxFileName = \"/Users/pamelatao/my-app/web/src/searchPage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport styles from \"./searchPage.module.css\";\nimport NavBar from \"./navBar\";\nimport SearchBar from \"./searchBar\";\nimport Header from \"./header\";\nimport Filter from \"./filter\";\nimport RestaurantCard from \"./restaurantCard\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport queryString from \"query-string\";\n\nconst SearchPage = () => {\n  const location = useLocation();\n  const parsed = queryString.parse(location.search);\n  const [searchKeyword, setSearchKeyword] = useState(parsed.term);\n  const [searchLocation, setSearchLocation] = useState(parsed.location);\n  const [data, setData] = useState(undefined);\n  const [reviews, setFirstThreeReviews] = useState(undefined);\n  const [loading, setLoading] = useState(true);\n\n  const fetchData = async () => {\n    try {\n      const response = await fetch(`http://localhost:4000/search?term=${searchKeyword}&location=${searchLocation}`, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\"\n        }\n      });\n      const responseJson = await response.json();\n      setLoading(false);\n      console.log(\"data was fetched\", responseJson);\n      setData(responseJson.businesses);\n      setFirstThreeReviews(responseJson.reviews);\n      console.log(reviews);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  if (!data) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    });\n  }\n\n  console.log(reviews);\n  return React.createElement(\"div\", {\n    className: styles.searchPage,\n    style: {\n      backgroundImage: `url(\"/food5.jpg\")`\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.headerWrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(Link, {\n    to: \"/\",\n    className: styles.homeLogoButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: styles.siteLogo,\n    src: \"./logo.png\",\n    alt: \"logo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.searchBar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(SearchBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: styles.searchWrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.filterWrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(Filter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.restaurantListWrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: styles.restaurantListUl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, data.map((restaurantDetail, i) => React.createElement(\"li\", {\n    className: styles.restaurantList,\n    key: i,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(RestaurantCard, {\n    details: restaurantDetail,\n    index: i + 1,\n    reviews: reviews[i],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  })))))));\n};\n\nexport default SearchPage;","map":{"version":3,"sources":["/Users/pamelatao/my-app/web/src/searchPage.js"],"names":["React","useState","useEffect","styles","NavBar","SearchBar","Header","Filter","RestaurantCard","Link","useLocation","queryString","SearchPage","location","parsed","parse","search","searchKeyword","setSearchKeyword","term","searchLocation","setSearchLocation","data","setData","undefined","reviews","setFirstThreeReviews","loading","setLoading","fetchData","response","fetch","headers","Accept","responseJson","json","console","log","businesses","error","searchPage","backgroundImage","headerWrapper","homeLogoButton","siteLogo","searchBar","searchWrapper","filterWrapper","restaurantListWrapper","restaurantListUl","map","restaurantDetail","i","restaurantList"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styles from \"./searchPage.module.css\";\nimport NavBar from \"./navBar\";\nimport SearchBar from \"./searchBar\";\nimport Header from \"./header\";\nimport Filter from \"./filter\";\nimport RestaurantCard from \"./restaurantCard\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport queryString from \"query-string\";\n\nconst SearchPage = () => {\n  const location = useLocation();\n  const parsed = queryString.parse(location.search);\n\n  const [searchKeyword, setSearchKeyword] = useState(parsed.term);\n  const [searchLocation, setSearchLocation] = useState(parsed.location);\n  const [data, setData] = useState(undefined);\n  const [reviews, setFirstThreeReviews] = useState(undefined);\n  const [loading, setLoading] = useState(true);\n\n  const fetchData = async () => {\n    try {\n      const response = await fetch(\n        `http://localhost:4000/search?term=${searchKeyword}&location=${searchLocation}`,\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Accept: \"application/json\"\n          }\n        }\n      );\n      const responseJson = await response.json();\n      setLoading(false);\n      console.log(\"data was fetched\", responseJson);\n      setData(responseJson.businesses);\n      setFirstThreeReviews(responseJson.reviews);\n      console.log(reviews);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  if (!data) {\n    return <div />;\n  }\n\n  console.log(reviews);\n\n  return (\n    <div\n      className={styles.searchPage}\n      style={{ backgroundImage: `url(\"/food5.jpg\")` }}\n    >\n      <div className={styles.headerWrapper}>\n        <Header />\n        {/* <NavBar /> */}\n        <Link to=\"/\" className={styles.homeLogoButton}>\n          <img className={styles.siteLogo} src=\"./logo.png\" alt=\"logo\" />\n        </Link>\n        <div className={styles.searchBar}>\n          <SearchBar />\n        </div>\n      </div>\n      <div className={styles.searchWrapper}>\n        <div className={styles.filterWrapper}>\n          <Filter />\n        </div>\n        <div className={styles.restaurantListWrapper}>\n          <ul className={styles.restaurantListUl}>\n            {data.map((restaurantDetail, i) => (\n              <li className={styles.restaurantList} key={i}>\n                <RestaurantCard\n                  details={restaurantDetail}\n                  index={i + 1}\n                  reviews={reviews[i]}\n                />\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SearchPage;\n"]},"metadata":{},"sourceType":"module"}