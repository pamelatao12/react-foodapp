{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pamelatao/my-app/web/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pamelatao/my-app/web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/pamelatao/my-app/web/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";// import logo from \"./logo.svg\";\nimport styles from\"./home.module.css\";import Header from\"./header\";import NavBar from\"./navBar\";import SearchCard from\"./searchCard\";import Carousel from\"./carousel/carousel\";import Calendar from\"./homepageEvents/calendar\";var Home=function Home(){var images=[\"food1.jpg\",\"food2.jpg\",\"food3.jpg\",\"food4.jpg\",\"food5.jpg\"];var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),suggestedRestaurants=_useState2[0],setSuggestedRestaurants=_useState2[1];var _useState3=useState(undefined),_useState4=_slicedToArray(_useState3,2),eventRestaurants=_useState4[0],setEventRestaurants=_useState4[1];var changeBackgroundImg=function changeBackgroundImg(){return images[Math.floor(Math.random()*images.length)];};var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(term,location){var response,responseJson;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:4000/search?term=\".concat(term,\"&location=\").concat(location,\"&limit=20\"),{headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\"}});case 3:response=_context.sent;_context.next=6;return response.json();case 6:responseJson=_context.sent;console.log(\"review data\",responseJson.reviews);console.log(\"data was fetched\",responseJson.search.business);// setFirstThreeReviews(responseJson.reviews);\nsetSuggestedRestaurants(responseJson.search.business);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function fetchData(_x,_x2){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData(\"restaurants\",\"nyc\");},[]);if(!suggestedRestaurants){return React.createElement(\"div\",null);}return React.createElement(\"div\",{className:styles.App},React.createElement(SearchCard,{img:changeBackgroundImg()}),React.createElement(Header,null),React.createElement(Carousel,{restaurants:suggestedRestaurants}),React.createElement(Calendar,null));};export default Home;","map":{"version":3,"sources":["/Users/pamelatao/my-app/web/src/home.js"],"names":["React","useState","useEffect","styles","Header","NavBar","SearchCard","Carousel","Calendar","Home","images","undefined","suggestedRestaurants","setSuggestedRestaurants","eventRestaurants","setEventRestaurants","changeBackgroundImg","Math","floor","random","length","fetchData","term","location","fetch","headers","Accept","response","json","responseJson","console","log","reviews","search","business","App"],"mappings":"uUAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA;AACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,2BAArB,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACjB,GAAMC,CAAAA,MAAM,CAAG,CACb,WADa,CAEb,WAFa,CAGb,WAHa,CAIb,WAJa,CAKb,WALa,CAAf,CADiB,cASuCT,QAAQ,CAACU,SAAD,CAT/C,wCASVC,oBATU,eASYC,uBATZ,8BAU+BZ,QAAQ,CAACU,SAAD,CAVvC,yCAUVG,gBAVU,eAUQC,mBAVR,eAYjB,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAChC,MAAON,CAAAA,MAAM,CAACO,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgBT,MAAM,CAACU,MAAlC,CAAD,CAAb,CACD,CAFD,CAIA,GAAMC,CAAAA,SAAS,0FAAG,iBAAOC,IAAP,CAAaC,QAAb,kLAESC,CAAAA,KAAK,6CACWF,IADX,sBAC4BC,QAD5B,cAE1B,CACEE,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,MAAM,CAAE,kBAFD,CADX,CAF0B,CAFd,QAERC,QAFQ,qCAWaA,CAAAA,QAAQ,CAACC,IAAT,EAXb,QAWRC,YAXQ,eAYdC,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BF,YAAY,CAACG,OAAxC,EACAF,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgCF,YAAY,CAACI,MAAb,CAAoBC,QAApD,EACA;AACArB,uBAAuB,CAACgB,YAAY,CAACI,MAAb,CAAoBC,QAArB,CAAvB,CAfc,iFAiBdJ,OAAO,CAACC,GAAR,cAjBc,qEAAH,kBAATV,CAAAA,SAAS,gDAAf,CAqBAnB,SAAS,CAAC,UAAM,CACdmB,SAAS,CAAC,aAAD,CAAgB,KAAhB,CAAT,CACD,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAI,CAACT,oBAAL,CAA2B,CACzB,MAAO,gCAAP,CACD,CAED,MACE,4BAAK,SAAS,CAAET,MAAM,CAACgC,GAAvB,EACE,oBAAC,UAAD,EAAY,GAAG,CAAEnB,mBAAmB,EAApC,EADF,CAEE,oBAAC,MAAD,MAFF,CAIE,oBAAC,QAAD,EAAU,WAAW,CAAEJ,oBAAvB,EAJF,CAKE,oBAAC,QAAD,MALF,CADF,CASD,CAtDD,CAwDA,cAAeH,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\n// import logo from \"./logo.svg\";\nimport styles from \"./home.module.css\";\nimport Header from \"./header\";\nimport NavBar from \"./navBar\";\nimport SearchCard from \"./searchCard\";\nimport Carousel from \"./carousel/carousel\";\nimport Calendar from \"./homepageEvents/calendar\";\n\nconst Home = () => {\n  const images = [\n    \"food1.jpg\",\n    \"food2.jpg\",\n    \"food3.jpg\",\n    \"food4.jpg\",\n    \"food5.jpg\"\n  ];\n\n  const [suggestedRestaurants, setSuggestedRestaurants] = useState(undefined);\n  const [eventRestaurants, setEventRestaurants] = useState(undefined);\n\n  const changeBackgroundImg = () => {\n    return images[Math.floor(Math.random() * images.length)];\n  };\n\n  const fetchData = async (term, location) => {\n    try {\n      const response = await fetch(\n        `http://localhost:4000/search?term=${term}&location=${location}&limit=20`,\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Accept: \"application/json\"\n          }\n        }\n      );\n      const responseJson = await response.json();\n      console.log(\"review data\", responseJson.reviews);\n      console.log(\"data was fetched\", responseJson.search.business);\n      // setFirstThreeReviews(responseJson.reviews);\n      setSuggestedRestaurants(responseJson.search.business);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchData(\"restaurants\", \"nyc\");\n  }, []);\n\n  if (!suggestedRestaurants) {\n    return <div />;\n  }\n\n  return (\n    <div className={styles.App}>\n      <SearchCard img={changeBackgroundImg()} />\n      <Header />\n      {/* <NavBar /> */}\n      <Carousel restaurants={suggestedRestaurants} />\n      <Calendar />\n    </div>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}